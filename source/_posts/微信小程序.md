---
title: 微信小程序
date: 2021-03-01 15:26:46
index_img: https://s3.ax1x.com/2021/03/01/6iPdBt.jpg
cover: https://s3.ax1x.com/2021/03/01/6iPdBt.jpg
mermaid: true
tags:
---

# 概念扫盲

## 缘起

微信小程序不是微信自己空穴来风，而是微信想让自己这个 app 用的更加顺滑。我之前虽未从事过微信的开发，但是之前微信里的文章与应用是靠公众号传播的，也就是基于网页。但基于网页，避免不了的一个问题便是：首页白屏。

在推出小程序之前，微信也推出过`微信 Web 资源离线存储`解决方案，可以解决部分白屏的场景但也非全部。并且基于 web 网页的交互存在页面切换生硬和点击的迟滞感。

因此小程序这个概念和方案就应运而生了

## 小程序到底是啥

小程序说白了，还是`web游览器`。

对~ 你没有看错，还是游览器，但是经过改造的游览器。

我们平常所使用的游览器有且只有一个主线程，因此，在我们看到最终界面时，时(流)序(程)图 是下面这样的

{% mermaid %}
graph TB
javascript --加载解析--> 主线程
css --加载解析--> 主线程
HTML --加载解析--> 主线程
主线程 --> 页面

{% endmermaid %}

想最终看到一个网页，必须等到 **javascript** **HTML** **CSS** 三者均加载完毕并解析完成，才能显示到用户面前

小程序的实现则不一样，由两个线程构成

{% mermaid %}
graph TB
javascript --加载解析--> 逻辑线程
css --加载解析--> 渲染线程
HTML --加载解析--> 渲染线程

渲染线程 --> 页面
逻辑线程 --> 页面

{% endmermaid %}
渲染线程执行完毕后，用户就能看到页面，而不用等到 javascript(逻辑线程)执行完，因此可以简单粗暴的理解，快就快在这里
